## [problems](https://codeforces.com/gym/105336)

## D 编码器 - 解码器

`区间DP` , `区间dp` 的书写比较固定 , 长度 + 左端点 + 分割点 == 左端点 + 右端点 + 分割点 , 定义三维数组 `dp[i][l][r]`  表示 `s` 字符串的前 `i` 位 和 t 从第 `l` 个字符到第 `r` 个字符的子序列匹配的数量 . 注意到 , 方案数等于分割点左边的子序列数乘分割点右边的区间数 . 

求的是子序列不是连续的 , 对于每一个区间都需要先更新 

```cpp
dp[i][l][r] += dp[i - 1][l][k] * dp[i - 1][k + 1][r]
```

如果 `s[i] == t[k + 1]`

则 `dp[i][l][r] += dp[i - 1][l][k] * dp[i - 1][k + 2][r]`

初始化问题

```cpp
pre(i,0,n)
{
    pre(l,1,m + 1)//分割点可能是最后一个端点,会越出去
    {
        pre(r,0,l - 1)//在长度为 l 的前提下 , 给定子区间长度为 r 初值为 1 
        {
            dp[i][l][r] = 1;//将所有的区间初始化为 1,初始状态下所有子序列初值为1
        }
    }
}//表示当 i (对应 s 的前缀长度)为 0 或者 l (对应 r 的前缀长度)为 1 时,任何可能的子区间 r 都有一个初始值 1
```



